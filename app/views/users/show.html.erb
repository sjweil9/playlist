<h3><%= @user.first %> <%= @user.last %>'s Playlist</h3>

<% if @recent != nil %>
<p>Most recently listened to: <a href="<%= show_song_path(@recent.id) %>"><%= @recent.title %></a> by <%= @recent.artist %></p>
<% end %>

<% if @songs != nil %>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Artist</th>
            <th>Title</th>
            <th>Times Added</th>
        </tr>
    </thead>
    <tbody>
        <% @songs.each do |song| %>
        <tr>
            <td><%= song.artist %></td>
            <td><a href="<%= show_song_path(song.id) %>"><%= song.title %></a></td>
            <td><%= song.users.reject { |u| u.id != @user.id }.count %></td>
        </tr>
        <% end %>
    </tbody>
</table>

<% else %>

<p>This weirdo hasn't listened to any songs yet. Who knows why they even bothered signing up?</p>

<% end %>